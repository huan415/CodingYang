# 索引结构

## mysql为什么选择B+树

1. 二叉树： 树的结构太高

2. 红黑树： 树的结构太高、而且红黑树自旋时也会影响性能

3. Hash表：hash碰撞问题，范围查询不行、模糊查询不行

4. B树：比红黑树好--一个节点16kb, 可以放更多的节点，相同节点可以放更多的数据

5. B+树：节点不放数据，只放索引，16kb可以存储更多的数据，‘

   ​             B+树叶子节点有双向指针连接，可以范围查询



### MYISAM存储引擎、InnoDB存储引擎

### MYISAM存储引擎

非聚集索引：索引文件和数据文件是分离的

#### 文件结构：

1. huan415_myisam.frm        表结构
2. huan415_myisam.MYD      表数据
3. huan415_myisam.MYI        表索引

### InnoDB存储引擎

聚集索引：索引文件和数据文件在一起

#### 文件结构：

1. huan415_innodb.frm         表结构
2. huan415_innodb.ibd          表数据+表索引

+ innodb必须有主键----表数据放在主键索引的叶子节点

​       如果没有设置主键，这默认生成一个主键

+ 建议主键: 整型+自增

  因为自增索引是一直往后加，

  uuid等可能触发重排序，且长度长，查询时对比也有损耗

